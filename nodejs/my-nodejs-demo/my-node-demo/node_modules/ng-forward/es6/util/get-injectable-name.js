import { providerStore } from '../writers';
import { Injectable } from '../decorators/injectable';
import { OpaqueToken } from '../classes/opaque-token';
export const getInjectableName = (injectable) => {
    if (typeof injectable === 'string' || injectable instanceof OpaqueToken) {
        return injectable.toString();
    }
    else if (providerStore.has('type', injectable)) {
        return providerStore.get('name', injectable);
    }
};
export const getInjectableNameWithJitCreation = (injectable) => {
    let name = getInjectableName(injectable);
    if (name) {
        return name;
    }
    if (typeof injectable === 'function') {
        Injectable(injectable);
        return providerStore.get('name', injectable);
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi91dGlsL2dldC1pbmplY3RhYmxlLW5hbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ik9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxZQUFZO09BSW5DLEVBQUUsVUFBVSxFQUFFLE1BQU0sMEJBQTBCO09BQzlDLEVBQUUsV0FBVyxFQUFFLE1BQU0seUJBQXlCO0FBRXJELGFBQWEsaUJBQWlCLEdBQUcsQ0FBQyxVQUFlO0lBRS9DLEVBQUUsQ0FBQSxDQUFDLE9BQU8sVUFBVSxLQUFLLFFBQVEsSUFBSSxVQUFVLFlBQVksV0FBVyxDQUFDLENBQUMsQ0FBQztRQUN2RSxNQUFNLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFHRCxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlDLE1BQU0sQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQztJQUMvQyxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsYUFBYSxnQ0FBZ0MsR0FBRyxDQUFDLFVBQWU7SUFDOUQsSUFBSSxJQUFJLEdBQUcsaUJBQWlCLENBQUMsVUFBVSxDQUFDLENBQUM7SUFFekMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNULE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBSUQsRUFBRSxDQUFDLENBQUMsT0FBTyxVQUFVLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQztRQUNyQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdkIsTUFBTSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQy9DLENBQUM7QUFDSCxDQUFDLENBQUMiLCJmaWxlIjoibGliL3V0aWwvZ2V0LWluamVjdGFibGUtbmFtZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3ZpZGVyU3RvcmUgfSBmcm9tICcuLi93cml0ZXJzJztcbi8vICMjIEludHJvXG4vLyBJbXBvcnQgdGhlIGBASW5qZWN0YWJsZWAgZGVjb3JhdG9yLiBXZSdsbCBhcHBseSBpdCB0byBmdW5jdGlvbnMvY2xhc3NlcyB0aGF0IGFyZVxuLy8gaW5qZWN0ZWQgdGhhdCBhcmUgbWlzc2luZyBwcm92aWRlciBtZXRhZGF0YS4gQ29udmVuaWVuY2UhXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnLi4vZGVjb3JhdG9ycy9pbmplY3RhYmxlJztcbmltcG9ydCB7IE9wYXF1ZVRva2VuIH0gZnJvbSAnLi4vY2xhc3Nlcy9vcGFxdWUtdG9rZW4nO1xuXG5leHBvcnQgY29uc3QgZ2V0SW5qZWN0YWJsZU5hbWUgPSAoaW5qZWN0YWJsZTogYW55KSA9PiB7XG4gIC8vIFJldHVybiBpdCBpZiBpdCBpcyBhbHJlYWR5IGEgc3RyaW5nIGxpa2UgYCckaHR0cCdgIG9yIGAnJHN0YXRlJ2BcbiAgaWYodHlwZW9mIGluamVjdGFibGUgPT09ICdzdHJpbmcnIHx8IGluamVjdGFibGUgaW5zdGFuY2VvZiBPcGFxdWVUb2tlbikge1xuICAgIHJldHVybiBpbmplY3RhYmxlLnRvU3RyaW5nKCk7XG4gIH1cbiAgLy8gSWYgdGhlIGluamVjdGFibGUgaXMgbm90IGEgc3RyaW5nIGJ1dCBoYXMgcHJvdmlkZXIgaW5mb3JtYXRpb24sIHVzZVxuICAvLyB0aGUgcHJvdmlkZXIgbmFtZS4gVGhpcyBpcyBzZXQgYnkgdGhlIGNvbGxlY3Rpb24gb2YgcHJvdmlkZXIgZGVjb3JhdG9yc1xuICBlbHNlIGlmKHByb3ZpZGVyU3RvcmUuaGFzKCd0eXBlJywgaW5qZWN0YWJsZSkpIHtcbiAgICByZXR1cm4gcHJvdmlkZXJTdG9yZS5nZXQoJ25hbWUnLCBpbmplY3RhYmxlKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldEluamVjdGFibGVOYW1lV2l0aEppdENyZWF0aW9uID0gKGluamVjdGFibGU6IGFueSkgPT4ge1xuICBsZXQgbmFtZSA9IGdldEluamVjdGFibGVOYW1lKGluamVjdGFibGUpO1xuXG4gIGlmIChuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH1cblxuICAvLyBJZiBpdCBpcyBhIGZ1bmN0aW9uIGJ1dCBpcyBtaXNzaW5nIHByb3ZpZGVyIGluZm9ybWF0aW9uLCBhcHBseSB0aGUgSW5qZWN0YWJsZVxuICAvLyBwcm92aWRlciBkZWNvcmF0b3IgdG8gdGhlIGZ1bmN0aW9uIHRvIHR1cm4gaXQgaW50byBhIHNlcnZpY2UuXG4gIGlmICh0eXBlb2YgaW5qZWN0YWJsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIEluamVjdGFibGUoaW5qZWN0YWJsZSk7XG4gICAgcmV0dXJuIHByb3ZpZGVyU3RvcmUuZ2V0KCduYW1lJywgaW5qZWN0YWJsZSk7XG4gIH1cbn07Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
