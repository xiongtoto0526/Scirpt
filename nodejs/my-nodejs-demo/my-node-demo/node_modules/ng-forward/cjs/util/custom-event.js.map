{"version":3,"sources":["/source/util/lib/util/custom-event.ts"],"names":["useNative","fromCreateEvent","fromCreateEventObject"],"mappings":";;;;;AAGA,IAAM,iBAAiB,GAAG,WAAW,CAAC;AAEtC,SAAA,SAAA,GAAA;AACEA,QAAIA;AACFA,YAAIA,CAACA,GAAGA,IAAIA,iBAAiBA,CAACA,KAAKA,EAAEA,EAAEA,MAAMA,EAAEA,EAAEA,GAAGA,EAAEA,KAAKA,EAAEA,EAAEA,CAACA,CAACA;AACjEA,eAAQA,KAAKA,KAAKA,CAACA,CAACA,IAAIA,IAAIA,KAAKA,KAAKA,CAACA,CAACA,MAAMA,CAACA,GAAGA,CAACA;KAErDA,CAAAA,OAAOA,CAACA,EAAEA;AACRA,eAAOA,KAAKA,CAACA;KACdA;CACFA;AAED,SAAA,eAAA,CACE,IAAW,EAEsC;QADjD,MAAM,yDACN,EAAE,OAAO,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE,EAAE;;AAEjDC,QAAIA,CAACA,GAAGA,QAAQA,CAACA,WAAWA,CAACA,aAAaA,CAACA,CAACA;AAE5CA,KAACA,CAACA,eAAeA,CAACA,IAAIA,EAAEA,MAAMA,CAACA,OAAOA,EAAEA,MAAMA,CAACA,UAAUA,EAAEA,MAAMA,CAACA,MAAMA,CAACA,CAACA;AAE1EA,WAAOA,CAACA,CAACA;CACVA;AAED,SAAA,qBAAA,CACE,IAAW,EAEsC;QADjD,MAAM,yDACN,EAAE,OAAO,EAAE,KAAK,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE,EAAE;;AAEjDC,QAAIA,CAACA,GAAGA,QAAQA,CAACA,iBAAiBA,EAAEA,CAACA;AACrCA,KAACA,CAACA,IAAIA,GAAGA,IAAIA,CAACA;AACdA,KAACA,CAACA,OAAOA,GAAGA,MAAMA,CAACA,OAAOA,CAACA;AAC3BA,KAACA,CAACA,UAAUA,GAAGA,MAAMA,CAACA,UAAUA,CAACA;AACjCA,KAACA,CAACA,MAAMA,GAAGA,MAAMA,CAACA,MAAMA,CAACA;AAEzBA,WAAOA,CAACA,CAACA;CACVA;AAED,IAAI,WAAgB,YAAA,CAAC;AAErB,IAAI,SAAS,EAAE,EAAC;AACd,eAAW,GAAG,iBAAiB,CAAC;CACjC,MACI,IAAI,OAAO,QAAQ,CAAC,WAAW,KAAK,UAAU,EAAC;AAClD,eAAW,GAAG,eAAe,CAAC;CAC/B,MACG;AACF,eAAW,GAAG,qBAAqB,CAAC;CACrC;qBAEc,WAAW","file":"util/custom-event.js","sourcesContent":["/**\n* CustomEvent polyfill based on https://github.com/webmodules/custom-event\n*/\nconst NativeCustomEvent = CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  }\n  catch (e) {\n    return false;\n  }\n}\n\nfunction fromCreateEvent(\n  type:string,\n  params: { bubbles: boolean, cancelable: boolean, detail: any} =\n  { bubbles: false, cancelable: false, detail: {} }\n){\n  let e = document.createEvent('CustomEvent');\n\n  e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n\n  return e;\n}\n\nfunction fromCreateEventObject(\n  type:string,\n  params: { bubbles: boolean, cancelable: boolean, detail: any} =\n  { bubbles: false, cancelable: false, detail: {} }\n){\n  let e = document.createEventObject();\n  e.type = type;\n  e.bubbles = params.bubbles;\n  e.cancelable = params.cancelable;\n  e.detail = params.detail;\n\n  return e;\n}\n\nlet eventExport: any;\n\nif (useNative()){\n  eventExport = NativeCustomEvent;\n}\nelse if (typeof document.createEvent === 'function'){\n  eventExport = fromCreateEvent;\n}\nelse{\n  eventExport = fromCreateEventObject;\n}\n\nexport default eventExport;\n"],"sourceRoot":"/source/"}